<div id="landing">
    <div class="row" id="alertdiv">
        <div ng-hide="devProfile" class="alert alert-warning fade in" role="alert">
            <p>Login to continue</p>
            <p><button ng-click="loginPopup()" class="btn btn-success">Login with Google</button></p>
        </div>
    </div>
    <div ng-show="devProfile" class="container-fluid" id="userapps">
        <div class="row">
            <div class="col-md-12 main-title">
                <span ng-bind="devProfile.displayName"></span>'s Apps
                <button ng-click="logout()" type="button" class="btn btn-danger logout">
                    Logout
                </button>
            </div>
        </div>
        <div class="row">
            <div class="col-md-1 col-md-offset-11 text-left" style="padding-left:0px">
                <div class="onoffswitch hidden">
                    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" ng-model="api" checked>
                    <label class="onoffswitch-label" for="myonoffswitch">
                        <span class="onoffswitch-inner"></span>
                        <span class="onoffswitch-switch"></span>
                    </label>
                </div>
            </div>
            <div class="form-horizontal col-md-6">
                <div class="row wrapper well" ng-submit="createApp(newAppname); newAppname ='' ;">
                    <form>
                        <div class="form-group new-app input-line">
                            <div class="col-sm-12">
                                <input type="text"
                                       pattern="^[a-z0-9_]*$"
                                       ng-required="true"
                                       class="form-control"
                                       placeholder="App name"
                                       ng-model="newAppname" />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12">
                                <button class="form-control btn btn-success"
                                        type="submit" id="createuserapp">
                                    Create App
                                </button>
                            </div>
                        </div>
                        
                        <div class="col-sm-12 tip">
                            <span class="text-info">
                                Please use only lowercase letters (a-z), numbers, and underscore.
                            </span>
                        </div>
                    </form>
                </div>
            </div>
            <div class="form-horizontal col-md-6" ng-show="fetching">
                <div class="wrapper well">
                    <span class="loading">loading...</span>
                </div>
            </div>
            <div class="form-horizontal col-md-6" ng-repeat="(app, obj) in apps">
                <div class="row wrapper well">
                    <div class="form-group input-line">
                        <label class="col-sm-3 control-label">App name</label>
                        <div class="col-sm-9">
                            <input type="text"
                                   class="form-control"
                                   placeholder="App name"
                                   readonly ng-value="app">
                        </div>
                    </div>
                    <div class="form-group input-line">
                        <label for="inputAppsecret" class="col-sm-3 control-label">App Secret</label>
                        <div class="col-sm-9">
                            <input type="text"
                                   class="form-control"
                                   placeholder="App Secret"
                                   readonly ng-value="obj.secret" />
                        </div>
                    </div>
                    <div class="input-line">
                        <div class="col-sm-10 url">
                            <div>
                                <a ng-click="goToBrowser(appToURL(app, api));$rootScope.currentApp=app;" ng-bind="appToURL(app, api)"></a>
                            </div>
                        </div>
                        <div class="col-sm-1 analytics">
                            <a class="glyphicon glyphicon-lock" ng-click="goToOauth(app)"></a>
                        </div>
                        <div class="col-sm-1 analytics">
                            <a class="glyphicon glyphicon-stats" ng-click="goToStats(app)"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row started-title">
        Steps to getting started with Appbase
    </div>
    <div class="row getting-started">
        <div class=" col-xs-2 ">
            <div class="circle">1</div>
        </div>
        <div class=" col-xs-9 getting-started-text ">
            Add Appbase library to your codebase and set the app credentials as they appear here.<pre><code class="language-markup">&lt;script src="https://cdn.appbase.io/2.0/appbase.js">&lt;/script></code>
<code id="usercredentials" class="language-javascript">&lt;script>
    Appbase.credentials("aphrodite", "4d8d0072580912343cd74aa0015cd217")
&lt;/script></code></pre>
        </div>
    </div>
    <div class="row getting-started">
        <div class=" col-xs-2 ">
            <div class="circle">2</div>
        </div>
        <div class=" col-xs-9 getting-started-text ">
            Now let's create two Appbase references under namespaces "user" and "tweets".<pre><code class="language-javascript">var userRef = Appbase.ns("user").v("andy");
var tweetRef = Appbase.ns("tweet").v(Appbase.uuid());</code></pre>As seen here, one can optionally specify the reference name.
        </div>
    </div>
    <div class="row getting-started">
        <div class=" col-xs-2 ">
            <div class="circle">3</div>
        </div>
        <div class=" col-xs-9 getting-started-text ">
            Now we will set some data on these references.<pre><code class="language-javascript">userRef.setData({
    status: "sudo",
    location: "Belo Horizonte, Brazil"
});
tweetRef.setData({
    message: "Remember Red, hope is a good thing."
});</code></pre>
        </div>
    </div>
    <div class="row getting-started">
        <div class=" col-xs-2">
            <div class="circle">4</div>
        </div>
        <div class=" col-xs-9 getting-started-text ">
            Now let's add the tweet as an edge to our user reference.<pre><code class="language-javascript">userRef.setEdge(tweetRef, 'tweeted')</code></pre>
        </div>
    </div>
    <div class="row getting-started">
        <div class=" col-xs-2 ">
            <div class="circle">5</div>
        </div>
        <div class=" col-xs-9 getting-started-text ">
            Go real-time! Listen to the changes on the user reference data properties and edges, to see the changes we have made so far. <pre><code class="language-javascript">userRef.on('properties', function(error, ref, userSnap) {
    console.log(userSnap.properties().status);
    console.log(userSnap.properties().location);
});
userRef.on('edge_added', function(error, edgeRef, eSnap) {
    edgeRef.on('properties', function(error, ref, tweetSnap) {
        console.log(tweetSnap.properties().message);
    });
});</code></pre>
        </div>
    </div>
    <div class="row getting-started">
        <div class=" col-xs-2 ">
            <div class="circle">6</div>
        </div>
        <div class=" col-xs-9 getting-started-text " style='text-align: left;'>
            Full-text smart search in two simple steps. <ol><li>Enable the search by toggling the (eye) switch in your <a href="//appbase.io/developer/#/browser"> app's</a> preferred namespace. If search is enabled, you should see an <span class='glyphicon glyphicon-eye-open'></span> icon next to the namespace.</li><li>Second and final step, use this code snippet on the enabled namespace and have a full-text search widget.</li></ol><pre><code class="language-javascript">Appbase.ns('tweet').search({text:'hello', properties: ['message']}, function(error, array) {
    console.log(array);
})</code></pre>
        </div>
    </div>
</div>
